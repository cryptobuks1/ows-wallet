<div 
  class="topbar-container" 
  ng-include="'views/includes/topbar.html'"
  ng-init="titleSection='Discover new themes'; goBackToState = 'preferencesTheme'; useTheme = true; showLayout = true; layoutEvent='themeLayout'">
</div>
<ion-content class="content preferences white" ng-controller="ThemeDiscoveryCtrl as p"
  ng-class="{'status-bar-content':index.useViewManagedStatusBar}" ng-style="{'background':skin.view.viewBackground}">

  <div class="onGoingProcess" ng-show="p.inProgress">
    <div class="onGoingProcess-content" ng-style="{'background':theme.view.progressBackground, 'color':theme.view.progressTextColor}">
      <div class="spinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
      </div>
      <span translate>{{p.progressMessage}}</span>
    </div>
  </div>

  <div class="p20v  text-center" ng-show="!p.themesFound">
    <span translate>No Themes Found</span>
  </div>

  <!-- Grid layout -->
  <div class="row" style="padding-left: 1px;" ng-show="(discoveredThemeHeaders.length > 0) && (p.themeGalleryLayout == 'grid')">
    <div class="columns large-2 medium-3 small-4 end" style="padding: 1px 1px 1px 0;" ng-repeat="th in discoveredThemeHeaders track by $index">
      <img ng-src="{{th.galleryImage}}" ng-click="p.preview($index)"/>
      <i class="fi-download gallery-grid-action-button" ng-click="p.import($index)" ng-hide="th.name == theme.header.name"></i>
    </div>
  </div>

  <!-- List layout -->
  <div ng-show="p.themeGalleryLayout == 'list'">
    <ul class="no-bullet m0">
      <li class="p0i oa" ng-repeat="th in discoveredThemeHeaders track by $index">

        <div class="gallery-list-accessory-container" ng-click="p.import($index)" ng-hide="th.name == theme.header.name">
          <i class="fi-download size-24"></i>
        </div>

        <div class="gallery-list-container" ng-click="p.preview($index)">
          <img class="gallery-list-image" ng-src="{{th.galleryImage}}"/>
          <div class="gallery-list-text-lg">{{th.name}}</div>
          <div class="gallery-list-text-sm">{{th.description}}</div>
        </div>

      </li>
    </ul>
  </div>

  <!-- List detail layout -->
  <div ng-show="p.themeGalleryLayout == 'list-detail'">
    <ul class="no-bullet m0">
      <li class="p0i oa" ng-repeat="th in discoveredThemeHeaders track by $index">

        <div class="gallery-listd-accessory-container" ng-click="p.import($index)" ng-hide="th.name == theme.header.name">
          <i class="fi-download size-24"></i>
        </div>

        <div class="gallery-listd-container" ng-click="p.preview($index)">
          <img class="gallery-listd-image" ng-src="{{th.galleryImage}}"/>
          <div class="gallery-listd-text-lg">{{th.name}}</div>
          <div class="gallery-listd-text-sm">{{th.description}}</div>
        </div>

      </li>
    </ul>
  </div>

  <div class="extra-margin-bottom"></div>
</ion-content>
