<ion-view id="ows-preferences-plugin-details" class="ows" show-tabs>
  <ion-nav-bar class="bar">
    <ion-nav-title>{{plugin.header.name}} {{'Details' | translate}}</ion-nav-title>
    <ion-nav-back-button>
    </ion-nav-back-button>
  </ion-nav-bar>
  <ion-content>
    <div class="box-notification info clear" ng-if="versions.length > 1">
      <p class="notice">
        {{'Multiple versions of this plugin are installed.' | translate}}
      </p>
      <p>
        {{versions.join(', ')}}
      </p>
    </div>
    <ion-list>
      <span ng-if="dependents.length > 0">
        <span ng-repeat="d in dependents">
          <ion-item class="item-divider has-label">
            Dependents of {{d.my.header.name}} version {{d.my.header.version}}
          </ion-item>
          <ion-item class="item-h-md item-icon-left icon-left-md has-detail" ng-repeat="p in d.plugins">
            <i class="icon md-icon left-icon">
              <div class="bg" style="background-image: url({{p.uri + p.iconImage}})"></div>
            </i>
            <span>
              {{p.header.name}}
            </span>
            <div class="item-detail">
              {{toTitleCase(p.header.kind)}}
            </div>
            <div class="item-note">
              Version {{p.header.version}}
            </div>
          </ion-item>
        </span>
      </span>
      <span ng-if="parents.length > 0">
        <span ng-repeat="r in parents">
          <ion-item class="item-divider has-label">
            Users of {{r.my.header.name}} version {{r.my.header.version}}
          </ion-item>
          <ion-item class="item-h-md item-icon-left icon-left-md has-detail" ng-repeat="p in r.plugins">
            <i class="icon md-icon left-icon">
              <div class="bg" style="background-image: url({{p.uri + p.iconImage}})"></div>
            </i>
            <span>
              {{p.header.name}}
            </span>
            <div class="item-detail">
              {{toTitleCase(p.header.kind)}}
            </div>
            <div class="item-note">
              Version {{p.header.version}}
            </div>
          </ion-item>
        </span>
      </span>
    </ion-list>
  </ion-content>
</ion-view>
