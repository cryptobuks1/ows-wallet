<ion-view id="scan" class="ows" show-tabs ng-class="{'solid-bg': usingSideMenu}">
  <ion-nav-bar class="bar">
    <ion-nav-title>{{'Scan' | translate}}</ion-nav-title>
    <ion-nav-buttons side="primary">
      <div ng-if="usingSideMenu" ng-include="'shared/partials/header-side-menu-button/header-side-menu-button.html'"></div>
    </ion-nav-buttons>
    <ion-nav-buttons side="secondary">
      <button class="button button-nav-bar button-close ng-hide" ng-click="goBack()" ng-show="canGoBack()"></button>
    </ion-nav-buttons>
  </ion-nav-bar>
  <ion-content scroll="false">
    <div class="ng-hide zero-state" id="scan-has-problems" ng-show="currentState === scannerStates.unauthorized || currentState === scannerStates.denied || currentState === scannerStates.unavailable">
      <i class="icon zero-state-icon">
        <img src="img/tab-icons/icon-receive.svg"/>
      </i>
      <div class="zero-state-heading" translate>Scan QR Codes</div>
      <div class="zero-state-description" translate>You can scan digital currency addresses, payment requests, paper wallets, and more.</div>
      <div class="zero-state-cta">
        <div class="ng-hide zero-state-tldr" ng-show="currentState === scannerStates.unauthorized" translate>Enable the camera to get started.</div>
        <div class="ng-hide zero-state-tldr" ng-show="currentState === scannerStates.denied" translate>Enable camera access in your device settings to get started.</div>
        <div class="ng-hide zero-state-tldr" ng-show="currentState === scannerStates.unavailable" translate>Please connect a camera to get started.</div>
        <button ng-show="currentState === scannerStates.unauthorized" class="ng-hide button button-standard button-primary" ng-click="authorize()" translate>Allow Camera Access</button>
        <button ng-show="currentState === scannerStates.denied && canOpenSettings" class="ng-hide button button-standard button-primary" ng-click="openSettings()" translate>Open Settings</button>
        <button ng-show="currentState === scannerStates.unavailable" class="ng-hide button button-standard button-primary" ng-click="attemptToReactivate()" translate>Retry Camera</button>
      </div>
    </div>
    <div class="ng-show" id="scan-loading-camera" ng-show="currentState === scannerStates.loading"></div>
    <div class="ng-hide" id="scan-camera-ready" ng-show="currentState === scannerStates.visible">
      <div class="guides">
        <img class="svg qr-scan-guides" src="img/qr-scan-guides.svg">
      </div>
      <div class="scanner-controls">
        <a ng-click="toggleLight()" ng-show="canEnableLight">
          <i class="icon">
            <div class="icon-flash" ng-class="{'active': lightActive}"></div>
          </i>
        </a>
        <a ng-click="toggleCamera()" ng-show="canChangeCamera">
          <i class="icon">
            <div class="icon-camera-toggle" ng-class="{'active': cameraToggleActive}"></div>
          </i>
        </a>
      </div>
    </div>
  </ion-content>
</ion-view>
