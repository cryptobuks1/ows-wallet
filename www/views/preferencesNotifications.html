<ion-view id="preferences-notifications" class="settings" show-tabs>
  <ion-nav-bar class="bar bar-header">
    <ion-nav-title>{{'Notifications' | translate}}</ion-nav-title>
    <ion-nav-back-button>
    </ion-nav-back-button>
  </ion-nav-bar>
  <ion-content>
    <div class="list">
      <div class="box-notification warning" ng-if="!PNEnabledByUser && isIOSApp">
        <div class="title" translate>Push Notification Disabled</div>
        Push notifications for {{appName}} are currently disabled. Enable them in the device Settings app.
      </div>
      <div class="item item-divider"></div>
      <div class="item" ng-if="usePushNotifications && PNEnabledByUser">
        <ion-toggle ng-model="pushNotifications.value" toggle-class="toggle-positive" ng-change="pushNotificationsChange()">
          <span class="toggle-label" translate>Enable push notifications</span>
        </ion-toggle>
      </div>
      <ion-toggle ng-model="confirmedTxsNotifications.value" toggle-class="toggle-positive" ng-change="confirmedTxsNotificationsChange()"
        ng-if="usePushNotifications && pushNotifications.value">
        <span class="toggle-label" translate>Notify me when transactions are confirmed</span>
      </ion-toggle>
      <ion-toggle ng-model="emailNotifications.value" toggle-class="toggle-positive" ng-change="emailNotificationsChange()">
        <span class="toggle-label" translate>Enable email notifications</span>
      </ion-toggle>
      <div ng-if="emailNotifications.value">
        <div class="comment" translate>
          You'll receive email notifications about payments sent and received from your wallets.
        </div>
        <form name="emailForm" ng-submit="save()" novalidate>
          <div>
            <label class="item item-input item-stacked-label">
              <span class="input-label" translate>Email Address</span>
              <input type="email" id="email" name="email" placeholder="{{'Email'|translate}}" ng-model="newEmail.value" required></input>
            </label>
          </div>
          <div class="item item-divider"></div>
          <button type="submit" class="button button-standard button-primary"
            ng-disabled="emailForm.$invalid || (newEmail.value == latestEmail.value)" translate>Save
          </button>
        </form>
      </div>
    </div>
  </ion-content>
</ion-view>
